{% extends "base.html" %}
{% block content %}
<nav class="navbar bg-success text-white">
    <a class="text-white" href="">{{page_title}}</a>
    <a class="text-white" href="../">TOP PAGE</a>
    <a class="text-white" href="static/sample_data/test.txt">ファイルのサンプル</a>
    <a class="text-white" href="https://github.com/nishizumi-lab/libs/tree/master/python/electrical-python/tests/short_test_webapp/">ソースコード</a>
</nav>
<br>
<form action="/short_test_ini" method="POST" enctype="multipart/form-data"  class="text-white">
    <input type="file" name="file1" class="btn btn-secondary"/>
    <button type="submit" class="btn-primary">送信する</button>
</form>


{% if search_result != -1 %}
<br>
<h2 class="bg-dark text-white bg-gray-9">試験条件(電圧{{ target_voltage }}V, 電流{{ target_current }}A)に最も近い装置構成</h2>
<table class="table table-dark">

    <thead class="bg-dark text-white bg-gray-9">
        <tr>
            <th></th>{%- for i in error_min_result_columns %}<th>{{ i|e }}</th>{%- endfor %}
        </tr>
    </thead>
    <tbody>
        {%- for i in error_min_result_values %}
        <tr>
            <th>{{ error_min_result_index[loop.index0]|e }}</th>{% for j in i %}<td>{{ j|e }}</td>{% endfor %}
        </tr>
        {%- endfor %}
    </tbody>
</table>
<br>
    <img src="{{ save_graph_path }}" alt="graph.png" width="100%"/>
    <br>
<h2 class="bg-dark text-white bg-gray-9">試験条件(電圧{{ target_voltage }}V, 電流{{ target_current }}A)を満たす装置構成一覧</h2>
<table class="table table-dark">

    <thead class="bg-dark text-white bg-gray-9">
        <tr>
            {%- for i in result_columns %}<th>{{ i|e }}</th>{%- endfor %}
        </tr>
    </thead>
    <tbody>
        {%- for i in result_values %}
        <tr>
            {% for j in i %}<td>{{ j|e }}</td>{% endfor %}
        </tr>
        {%- endfor %}
    </tbody>
</table>

{% else %}
<p class="text-danger">試験条件(電圧{{ target_voltage }}V, 電流{{ target_current }}A)を満たす装置構成はありません。</p>
    <img src="{{ save_graph_path }}" alt="graph.png" width="100%" />
{% endif %}
{% endblock %}